apply plugin: 'java'
apply plugin: 'eclipse'

//TODO: set artifactID to 'pusher-java-client'
group = "com.pusher"
version = "0.3.4-SNAPSHOT"

sourceCompatibility = "1.6"
targetCompatibility = "1.6"

repositories {
	mavenCentral()
	maven { url "http://clojars.org/repo" }
}

dependencies {
	compile "com.google.code.gson:gson:2.2.2"
	compile "org.slf4j:slf4j-api:1.7.5"
	compile "org.java-websocket:java-websocket:1.3.1"
	runtime "org.slf4j:slf4j-log4j12:1.7.5"
	testCompile "org.mockito:mockito-all:1.8.5"
	testCompile "org.powermock:powermock-module-junit4:1.4.11"
	testCompile "org.powermock:powermock-api-mockito:1.4.11"
}

processResources {
	filter(org.apache.tools.ant.filters.ReplaceTokens, tokens: [
		version: project.version
	] )
}

javadoc {
	/* info for JavaDoc options http://docs.oracle.com/javase/6/docs/technotes/tools/windows/javadoc.html#overviewcomment */
	title "Pusher Java Websocket API"
	options.overview = file("src/main/javadoc/overview.html")
	// uncomment this to use the custom javadoc styles
	//options.stylesheetFile = file("src/main/javadoc/css/styles.css")
	exclude "**/com/pusher/client/channel/impl/*"
	exclude "**/com/pusher/client/connection/impl/*"
	exclude "**/com/pusher/client/connection/websocket/*"
	exclude "**/org/java_websocket/*"
	exclude "**/com/pusher/client/example/*"
	options.linkSource = true
}


task wrapper(type: Wrapper) {
	gradleVersion = '2.0'
}
